{% extends 'main/base.html' %}
{% load static %}


{% block content %}
    <!-- Слайдер - главные предложения -->
    <section class="slider-main">
        <div class="slider-wrapper">
            <div class="slides">

                <div class="slide">
                    <img src="{% static 'webapp/images/house_slide.png' %}" alt="Слайд 1"/>
                    <div class="slide-content">
                        <h2>Найдите дом своей мечты с нами</h2>
                        <button class="btn-consultation">Получить консультацию</button>
                    </div>
                </div>

                <div class="slide">
                    <img src="{% static 'webapp/images/slide_badroom.png' %}" alt="Слайд 2"/>
                    <div class="slide-content">
                        <h2>Лучшие квартиры в нашем городе</h2>
                        <button class="btn-consultation">Получить консультацию</button>
                    </div>
                </div>

                <div class="slide">
                    <img src="{% static 'webapp/images/rent_slide.jpg' %}" alt="Слайд 3"/>
                    <div class="slide-content">
                        <h2>Аренда на выгодных условиях</h2>
                        <button class="btn-consultation">Получить консультацию</button>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- Слайдер новые объекты -->
    <section class="slider-new-objects">
        <h2>Новые объекты</h2>
        <div class="slider-container">
            <button class="arrow left-arrow" aria-label="Влево"><i class="fa fa-chevron-left"></i></button>
            <div class="new-objects-wrapper">
                <div class="new-objects">
                    {% for property in properties_new %}
                        <div class="new-object">
                            {% if property.photos.all %}
                                <img src="{{ property.photos.all.0.photo.url }}" alt="{{ property.name }}"/>
                            {% else %}
                                <img src="{% static 'webapp/images/house_slide.png' %}" alt="{{ property.name }}"/>
                            {% endif %}
                            <p>{{ property.name }}</p>
                        </div>
                    {% empty %}
                        <p>Новых объектов нет</p>
                    {% endfor %}
                </div>
            </div>
            <button class="arrow right-arrow" aria-label="Вправо"><i class="fa fa-chevron-right"></i></button>
        </div>
    </section>

    <!-- Почему нам доверяют -->
    <section class="trust-section">
        <h2>Почему нам можно доверять</h2>
        <div class="trust-items">
            <div class="trust-item">
                <i class="fa-solid fa-shield-virus"></i>
                <p>Надежность</p>
            </div>
            <div class="trust-item">
                <i class="fa-solid fa-user-check"></i>
                <p>Профессионализм</p>
            </div>
            <div class="trust-item">
                <i class="fa-solid fa-handshake"></i>
                <p>Честность</p>
            </div>
            <div class="trust-item">
                <i class="fa-solid fa-clock"></i>
                <p>Быстрый отклик</p>
            </div>
        </div>
    </section>

    <!-- Видео блок -->
    <section class="video-section">
        <h2>Наши видео</h2>
        <div class="video-grid">
            <div class="video-item">
                <iframe src="https://www.youtube.com/embed/GXrxmrgG0mo" title="Видео 1" frameborder="0"
                        allowfullscreen></iframe>
            </div>
            <div class="video-item">
                <iframe src="https://www.youtube.com/embed/CQF3IEwUWLI" title="Видео 2" frameborder="0"
                        allowfullscreen></iframe>
            </div>
            <div class="video-item">
                <iframe src="https://www.youtube.com/embed/AaHqGM5TMmI" title="Видео 3" frameborder="0"
                        allowfullscreen></iframe>
            </div>
            <div class="video-item">
                <iframe src="https://www.youtube.com/embed/CQF3IEwUWLI" title="Видео 4" frameborder="0"
                        allowfullscreen></iframe>
            </div>
        </div>
    </section>


    <!-- Второй слайдер объектов (наоборот) -->
    <section class="slider-objects-reverse">
        <h2>Все объекты</h2>
        <div class="slider-container reverse-direction">
            <button class="arrow left-arrow" aria-label="Влево"><i class="fa fa-chevron-left"></i></button>
            <div class="objects-wrapper">
                <div class="objects">
                    {% for property in properties_all %}
                        <div class="object-item">
                            {% if property.photos.all %}
                                <img src="{{ property.photos.all.0.photo.url }}" alt="{{ property.name }}"/>
                            {% else %}
                                <img src="{% static 'webapp/images/default-object.jpg' %}" alt="{{ property.name }}"/>
                            {% endif %}
                            <p>{{ property.name }}</p>
                        </div>
                    {% empty %}
                        <p>Объектов нет</p>
                    {% endfor %}
                </div>
            </div>
            <button class="arrow right-arrow" aria-label="Вправо"><i class="fa fa-chevron-right"></i></button>
        </div>
    </section>

    <!-- Информация о нас -->
    <section class="about-section" id="about">
        <div class="container about-container">
            <div class="about-photo">
                <img src="{% static 'webapp/images/kvatera_about.jpg' %}" alt="Фото компании"/>
            </div>
            <div class="about-text">
                <h2>✔ О нашем агентстве недвижимости</h2>
                <p>
                    ⭐⭐⭐⭐⭐<br>
                    Мы профессионалы своего дела, предоставляющие полный спектр услуг по продаже и аренде недвижимости.
                    Наш коллектив — команда опытных специалистов, которые помогут вам найти идеальное жилье.
                </p>
                <div class="contacts-about">
                    <p>
                        <i class="fa-solid fa-phone"></i>
                        <a href="tel:{{ contact.phone|urlencode }}">{{ contact.phone }}</a>
                    </p>
                    <p>
                        <i class="fa-solid fa-envelope"></i>
                        <a href="mailto:{{ contact.email|urlencode }}">{{ contact.email }}</a>
                    </p>
                    <div class="social-about">
                        {% for social in contact.social_networks.all %}
                            <a href="{{ social.url }}" aria-label="{{ social.name }}" target="_blank"
                               rel="noopener noreferrer">
                                <i class="{{ social.icon }}"></i>
                            </a>
                        {% empty %}
                            <p>Соцсетей нет</p>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>

        <!-- Карта под фото и информацией -->
        <div class="container">
            <h3>Мы на карте</h3>
            <div class="map-container">
                <iframe
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2257.7787718957343!2d28.6432172!3d55.536222599999995!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x46c485209fe11a4b%3A0x906ceb1e54e03589!2z0KbQtdC90YLRgCDRgNC40Y3Qu9GC0LXRgNGB0LrQuNGFINGD0YHQu9GD0LMg0JrQstCw0KLRjdGA0LAgMjE0!5e0!3m2!1sru!2sby!4v1755249880238!5m2!1sru!2sby"
                        width="1200"
                        height="350"
                        style="border:0;"
                        allowfullscreen=""
                        loading="lazy"
                        referrerpolicy="no-referrer-when-downgrade"
                        class="map-iframe"
                ></iframe>
            </div>
        </div>
    </section>


    {% include 'webapp/consultation_form.html' %}


{% endblock %}
